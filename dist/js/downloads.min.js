class Modal{constructor(a){this.titulo=a.title,this.crimeName=a.crimeName,this.imgPath=a.imgPath,this.link=a.link,this.downloadPath=a.downloadPath,this.altTag=a.altTag,this.render()}render(){let a=`<div class='modal-download'>\
                      <a href="${this.link}" class="glightbox"> \
                        <div class="superior"> \
                            <h2>${this.titulo}</h2> \
                            <p>${this.crimeName}</p> \
                        </div> \
                        <div class="middle"> \
                            <img src="${this.imgPath}" alt='${this.altTag}'> \
                        </div> \
                        <div class="inferior"> \
                            <div class="botao"> \
                                <p>Assistir</p> \
                                <div class="play-icon"></div> \
                            </div> \
                            <div data-download='${this.downloadPath}' class="botao download" download> \
                                <p>Download</p> \
                                <div class="download-icon"></div> \
                            </div> \
                        </div> \
                      </a> \
                    </div>`;document.querySelector("#modal-container").insertAdjacentHTML("beforeend",a)}}if(""!=data&&null!=data){for(let a=0;a<data.crimes.length;a++){let b={title:`Crime ${a+1}`,crimeName:data.crimes[a],imgPath:`img/crimes/crime_${a+1}.png`,altTag:data.altTag[a],link:"",downloadPath:"",extension:"videos"===key?".mp4":".mp3"};if("sonoras"===key){let c=("0"+(a+1)).slice(-2);b.link=`multimedia/iframes/iframe.html?id=${c}`,b.downloadPath=`https://www.justicaeleitoral.jus.br/audios/tre-pr-voce-sabia-sabia-sonora-${c}/@@download/file`}else"videos"===key&&(b.link=data[key].links[a],3!=a?b.downloadPath=`https://www.justicaeleitoral.jus.br/videos/tre-pr-crime-${a+1}-${b.crimeName.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replaceAll(" ","-").toLowerCase()}/@@download/file`:b.downloadPath=`https://www.justicaeleitoral.jus.br/videos/tre-prt-crime-${a+1}-${b.crimeName.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replaceAll(" ","-").toLowerCase()}/@@download/file`);new Modal(b)}let d=GLightbox();"sonoras"===key&&(d.on("slide_after_load",()=>{document.querySelectorAll(".gslide.loaded:not(.current) iframe").forEach(a=>{a.contentWindow.document.querySelector("audio").pause()})}),d.on("slide_before_change",()=>{document.querySelector(".prev").querySelector("iframe").contentWindow.document.querySelector("audio").pause(),d.getActiveSlide().querySelector("iframe").contentWindow.document.querySelector("audio").play()})),document.querySelectorAll(".botao.download").forEach(a=>{a.addEventListener("click",a=>{a.stopPropagation(),a.preventDefault();let b=a.target.closest(".download").getAttribute("data-download");window.open(b,"_blank")})})}
